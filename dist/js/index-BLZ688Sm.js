import{v as r,r as t,w as e,R as n}from"./index-DzmPGAS5.js";import{s as o,c as a}from"./index-B0orgxkk.js";async function i(t){const{network:e,layer:n}=r;try{const{data:r,error:i}=await o.from("box_rewards").select("*").eq("network",e).eq("layer",n).eq("box_id",t);if(i)return{boxRewardsData:null,error:i};const c=r?r.map(r=>function(r){var t;const e=a(r,{deep:!0});return{id:e.id||"",boxId:e.boxId||r.box_id.toString(),rewardType:e.rewardType||e.reward_type||"",token:e.token||"",rewardAmount:(null==(t=e.amount)?void 0:t.toString())||"0"}}(r)):[];return{boxRewardsData:c.length>0?c:null,error:null}}catch(i){return{boxRewardsData:null,error:l(i)}}}async function c(t,e){try{const{network:n,layer:i}=r;let c=null;if(e){const{data:r,error:l}=await o.from("box_user_order_amounts").select("*").eq("network",n).eq("layer",i).eq("box_id",t).eq("user_id",e);if(l)return{orderAmountsData:null,error:l};r&&Array.isArray(r)&&(c=r.map(r=>function(r){var t,e,n;const o=a(r,{deep:!0});return{id:o.id||"",userId:o.userId||(null==(t=o.user_id)?void 0:t.toString())||"",boxId:o.boxId||(null==(e=o.box_id)?void 0:e.toString())||"",token:o.token||"",amount:(null==(n=o.amount)?void 0:n.toString())||"0"}}(r)))}return{orderAmountsData:c&&c.length>0?c:null,error:null}}catch(n){return{orderAmountsData:null,error:l(n)}}}function l(r){return r?"object"==typeof r&&"message"in r?r:new Error("Unknown Supabase error"):null}const s=(n,o,a)=>{const{network:i,layer:l}=r,s=!!n&&!!o&&""!==o.trim()&&a.includes("Bidder"),u=t.useMemo(()=>JSON.stringify([...a].sort()),[a]),{data:d,isLoading:f,error:m,isFetching:y}=e({queryKey:["box-order-amounts",i,l,n,o,u],queryFn:async()=>{const r=await c(n,o);if(r.error)throw r.error;return r},staleTime:3e5,enabled:s});return{orderAmountsData:t.useMemo(()=>{if(null==d?void 0:d.orderAmountsData)return d.orderAmountsData},[null==d?void 0:d.orderAmountsData]),isLoading:f||y,error:m||null}};var u={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},d=n.createContext&&n.createContext(u),f=["attr","size","title"];function m(r,t){if(null==r)return{};var e,n,o=function(r,t){if(null==r)return{};var e={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(t.indexOf(n)>=0)continue;e[n]=r[n]}return e}(r,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(r,e)&&(o[e]=r[e])}return o}function y(){return y=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},y.apply(this,arguments)}function p(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),e.push.apply(e,n)}return e}function b(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?p(Object(e),!0).forEach(function(t){v(r,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):p(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}function v(r,t,e){var n;return(t="symbol"==typeof(n=function(r,t){if("object"!=typeof r||!r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var n=e.call(r,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(r)}(t,"string"))?n:n+"")in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function w(r){return r&&r.map((r,t)=>n.createElement(r.tag,b({key:t},r.attr),w(r.child)))}function h(r){return t=>n.createElement(g,y({attr:b({},r.attr)},t),w(r.child))}function g(r){var t=t=>{var e,{attr:o,size:a,title:i}=r,c=m(r,f),l=a||t.size||"1em";return t.className&&(e=t.className),r.className&&(e=(e?e+" ":"")+r.className),n.createElement("svg",y({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,o,c,{className:e,style:b(b({color:r.color||t.color},t.style),r.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&n.createElement("title",null,i),r.children)};return void 0!==d?n.createElement(d.Consumer,null,r=>t(r)):t(u)}function O(r){return h({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(r)}function x(r){return h({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"},child:[]}]})(r)}function j(r){return h({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(r)}function S(r){return h({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(r)}export{S as F,j as a,O as b,x as c,i as q,s as u};
