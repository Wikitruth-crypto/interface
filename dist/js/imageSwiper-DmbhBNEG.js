import{r as e,f as t,j as n,c as s,R as r,T as a}from"./index-DzmPGAS5.js";import{f as l,i}from"./index-B0orgxkk.js";const o=({price:i,symbol:o="ETH",decimals:c=18,precision:u=3,showSymbol:m=!0,className:g="",size:d="sm",unitPosition:x="right",responsive:f=!0})=>{const h=e.useMemo(()=>{try{const e=l(i,c,u);if(/[KM]$/.test(e)){const t=e.match(/^([\d.]+)([KM])$/);if(t){const e=t[1],n=t[2],s=parseFloat(e);if(Number.isInteger(s))return`${s}${n}`;const r=e.split(".");if(2===r.length&&/^0+$/.test(r[1]))return`${r[0]}${n}`}return e}const t=parseFloat(e);if(Number.isInteger(t))return t.toString();const n=e.split(".");if(2===n.length){const e=n[1];if(/^0+$/.test(e))return n[0]}return e}catch(e){return"0"}},[i,c,u]),p=e.useMemo(()=>({sm:"text-xs md:text-sm lg:text-base",md:"text-sm md:text-md lg:text-lg",lg:"text-lg md:text-xl lg:text-2xl",xl:"text-xl md:text-2xl lg:text-3xl"}),[d]),b=e.useMemo(()=>({sm:"text-xs md:text-sm",md:"text-sm md:text-base ",lg:"text-md md:text-lg ",xl:"text-lg md:text-xl "}),[d]),y=e.useMemo(()=>{try{const e="bigint"==typeof i?i:"string"==typeof i?i.includes("n")?BigInt(i.replace("n","")):BigInt(i):BigInt(Math.floor(Number(i)||0));return t(e,c)}catch{return h}},[i,c,h]),j=n.jsx("p",{className:s("text-white",p[d],g),children:h}),N=m&&o?n.jsx("p",{className:s(b[d],"text-muted-foreground"),children:o}):null,$=[];"left"===x&&N&&$.push(N);const v=y!==h?n.jsx(a,{title:y,children:j}):j;return $.push(v),"right"===x&&N&&$.push(N),n.jsx("div",{className:s("inline-flex items-end",f?"gap-2":"gap-1","font-mono"),children:$.map((e,t)=>n.jsx(r.Fragment,{children:e},`price-label-${t}`))})},c=({images:t,aspectRatio:r=1,autoPlayInterval:a=4e3,autoPlay:l=!0,className:o,altPrefix:c="image",transitionDuration:u=2,enableMask:m=!0,enableIpfsUrl:g=!0,onImageLoad:d})=>{const[x,f]=e.useState(0),[h,p]=e.useState("lt"),b=e.useRef(null),y=()=>{const e=["lt","rt","lb","rb"];return e[Math.floor(Math.random()*e.length)]},j=e.useCallback(()=>{t.length<=1||(p(y()),f(e=>(e+1)%t.length))},[t.length]);e.useCallback(e=>{e<0||e>=t.length||e===x||(p(y()),f(e))},[t.length,x]);const N=e.useRef(j);if(e.useEffect(()=>{N.current=j},[j]),e.useEffect(()=>{if(l&&!(t.length<=1))return b.current=setInterval(()=>{N.current()},a),()=>{b.current&&clearInterval(b.current)}},[l,a,t.length]),!t||0===t.length)return n.jsx("div",{className:s("w-full bg-black flex items-center justify-center rounded-t-2xl",o),style:{aspectRatio:r},children:n.jsx("span",{className:"text-white/50",children:"No images available"})});const $=e=>{if(!m)return{};const t={lt:"linear-gradient(135deg, #000 60%, transparent 100%)",rb:"linear-gradient(315deg, #000 60%, transparent 100%)",rt:"linear-gradient(225deg, #000 60%, transparent 100%)",lb:"linear-gradient(45deg, #000 60%, transparent 100%)"};return{maskImage:t[e],WebkitMaskImage:t[e]}},[v,I]=e.useState(new Set),k=e.useRef(!1),w=e.useCallback(e=>{I(t=>{const n=new Set(t);return n.add(e),n})},[]);return e.useEffect(()=>{if(v.size===t.length&&d&&!k.current){k.current=!0;const e=setTimeout(()=>{d()},0);return()=>clearTimeout(e)}},[v.size,t.length]),e.useEffect(()=>{I(new Set),k.current=!1},[t]),n.jsx("div",{className:s("w-full bg-black flex justify-center items-center overflow-hidden rounded-t-2xl relative",o),style:{aspectRatio:r},children:n.jsx("div",{className:"w-full h-full relative",children:t.map((e,r)=>{const a=r===x,l=a||r===(x-1+t.length)%t.length,o=g?i(e):e;return n.jsx("img",{src:o,alt:`${c}-${r+1}`,className:s("w-full h-full object-contain absolute left-0 top-0 pointer-events-none","transition-opacity ease-linear",a?"opacity-100 z-20":"opacity-0 z-10"),style:{transitionDuration:`${u}s`,...a&&m?$(h):{},transitionProperty:m?"opacity, mask-image, -webkit-mask-image":"opacity"},loading:l?"eager":"lazy",onLoad:()=>w(e),onError:t=>{w(e)}},`${o}-${r}`)})})})};export{c as I,o as P};
