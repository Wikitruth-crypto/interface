import{_ as t,n as e,V as i,U as n,r as o,P as r,ah as a,R as l,af as c,aV as s,p as d,q as m,x as u,av as p,aW as g,t as h,a1 as $,aq as f,aX as b,T as S,aY as y,aZ as w,a_ as v,a$ as I,b0 as C,b1 as E,b2 as T,b3 as x,b4 as k,b5 as z}from"./index-DzmPGAS5.js";import{u as q}from"./text_p-qX2REdKA.js";import{P,i as B}from"./time-BtlmuUGs.js";import{a as N}from"./hooks-9q6sH1gV.js";var D=["className","prefixCls","style","active","status","iconPrefix","icon","wrapperStyle","stepNumber","disabled","description","title","subTitle","progressDot","stepIcon","tailContent","icons","stepIndex","onStepClick","onClick","render"];function A(t){return"string"==typeof t}function H(l){var c,s=l.className,d=l.prefixCls,m=l.style,u=l.active,p=l.status,g=l.iconPrefix,h=l.icon;l.wrapperStyle;var $=l.stepNumber,f=l.disabled,b=l.description,S=l.title,y=l.subTitle,w=l.progressDot,v=l.stepIcon,I=l.tailContent,C=l.icons,E=l.stepIndex,T=l.onStepClick,x=l.onClick,k=l.render,z=t(l,D),q={};!!T&&!f&&(q.role="button",q.tabIndex=0,q.onClick=function(t){null==x||x(t),T(E)},q.onKeyDown=function(t){var e=t.which;e!==a.ENTER&&e!==a.SPACE||T(E)});var P,B,N,H,O=p||"wait",W=e("".concat(d,"-item"),"".concat(d,"-item-").concat(O),s,(i(c={},"".concat(d,"-item-custom"),h),i(c,"".concat(d,"-item-active"),u),i(c,"".concat(d,"-item-disabled"),!0===f),c)),M=n({},m),j=o.createElement("div",r({},z,{className:W,style:M}),o.createElement("div",r({onClick:x},q,{className:"".concat(d,"-item-container")}),o.createElement("div",{className:"".concat(d,"-item-tail")},I),o.createElement("div",{className:"".concat(d,"-item-icon")},(N=e("".concat(d,"-icon"),"".concat(g,"icon"),(i(P={},"".concat(g,"icon-").concat(h),h&&A(h)),i(P,"".concat(g,"icon-check"),!h&&"finish"===p&&(C&&!C.finish||!C)),i(P,"".concat(g,"icon-cross"),!h&&"error"===p&&(C&&!C.error||!C)),P)),H=o.createElement("span",{className:"".concat(d,"-icon-dot")}),B=w?"function"==typeof w?o.createElement("span",{className:"".concat(d,"-icon")},w(H,{index:$-1,status:p,title:S,description:b})):o.createElement("span",{className:"".concat(d,"-icon")},H):h&&!A(h)?o.createElement("span",{className:"".concat(d,"-icon")},h):C&&C.finish&&"finish"===p?o.createElement("span",{className:"".concat(d,"-icon")},C.finish):C&&C.error&&"error"===p?o.createElement("span",{className:"".concat(d,"-icon")},C.error):h||"finish"===p||"error"===p?o.createElement("span",{className:N}):o.createElement("span",{className:"".concat(d,"-icon")},$),v&&(B=v({index:$-1,status:p,title:S,description:b,node:B})),B)),o.createElement("div",{className:"".concat(d,"-item-content")},o.createElement("div",{className:"".concat(d,"-item-title")},S,y&&o.createElement("div",{title:"string"==typeof y?y:void 0,className:"".concat(d,"-item-subtitle")},y)),b&&o.createElement("div",{className:"".concat(d,"-item-description")},b))));return k&&(j=k(j)||null),j}var O=["prefixCls","style","className","children","direction","type","labelPlacement","iconPrefix","status","size","current","progressDot","stepIcon","initial","icons","onChange","itemRender","items"];function W(o){var a,c=o.prefixCls,s=void 0===c?"rc-steps":c,d=o.style,m=void 0===d?{}:d,u=o.className;o.children;var p=o.direction,g=void 0===p?"horizontal":p,h=o.type,$=void 0===h?"default":h,f=o.labelPlacement,b=void 0===f?"horizontal":f,S=o.iconPrefix,y=void 0===S?"rc":S,w=o.status,v=void 0===w?"process":w,I=o.size,C=o.current,E=void 0===C?0:C,T=o.progressDot,x=void 0!==T&&T,k=o.stepIcon,z=o.initial,q=void 0===z?0:z,P=o.icons,B=o.onChange,N=o.itemRender,D=o.items,A=void 0===D?[]:D,W=t(o,O),M="navigation"===$,j="inline"===$,R=j||x,X=j?"horizontal":g,L=j?void 0:I,F=R?"vertical":b,V=e(s,"".concat(s,"-").concat(X),u,(i(a={},"".concat(s,"-").concat(L),L),i(a,"".concat(s,"-label-").concat(F),"horizontal"===X),i(a,"".concat(s,"-dot"),!!R),i(a,"".concat(s,"-navigation"),M),i(a,"".concat(s,"-inline"),j),a)),G=function(t){B&&E!==t&&B(t)};return l.createElement("div",r({className:V,style:m},W),A.filter(function(t){return t}).map(function(t,e){var i=n({},t),o=q+e;return"error"===v&&e===E-1&&(i.className="".concat(s,"-next-error")),i.status||(i.status=o===E?v:o<E?"finish":"wait"),j&&(i.icon=void 0,i.subTitle=void 0),!i.render&&N&&(i.render=function(t){return N(i,t)}),l.createElement(H,r({},i,{active:o===E,stepNumber:o+1,stepIndex:o,key:o,prefixCls:s,iconPrefix:y,wrapperStyle:m,progressDot:R,stepIcon:k,icons:P,onStepClick:B&&G}))}))}W.Step=H;const M=t=>{const{componentCls:e,customIconTop:i,customIconSize:n,customIconFontSize:o}=t;return{[`${e}-item-custom`]:{[`> ${e}-item-container > ${e}-item-icon`]:{height:"auto",background:"none",border:0,[`> ${e}-icon`]:{top:i,width:n,height:n,fontSize:o,lineHeight:c(n)}}},[`&:not(${e}-vertical)`]:{[`${e}-item-custom`]:{[`${e}-item-icon`]:{width:"auto",background:"none"}}}}},j=t=>{const{componentCls:e}=t,i=`${e}-item`;return{[`${e}-horizontal`]:{[`${i}-tail`]:{transform:"translateY(-50%)"}}}},R=t=>{const{componentCls:e,inlineDotSize:i,inlineTitleColor:n,inlineTailColor:o}=t,r=t.calc(t.paddingXS).add(t.lineWidth).equal(),a={[`${e}-item-container ${e}-item-content ${e}-item-title`]:{color:n}};return{[`&${e}-inline`]:{width:"auto",display:"inline-flex",[`${e}-item`]:{flex:"none","&-container":{padding:`${c(r)} ${c(t.paddingXXS)} 0`,margin:`0 ${c(t.calc(t.marginXXS).div(2).equal())}`,borderRadius:t.borderRadiusSM,cursor:"pointer",transition:`background-color ${t.motionDurationMid}`,"&:hover":{background:t.controlItemBgHover},"&[role='button']:hover":{opacity:1}},"&-icon":{width:i,height:i,marginInlineStart:`calc(50% - ${c(t.calc(i).div(2).equal())})`,[`> ${e}-icon`]:{top:0},[`${e}-icon-dot`]:{borderRadius:t.calc(t.fontSizeSM).div(4).equal(),"&::after":{display:"none"}}},"&-content":{width:"auto",marginTop:t.calc(t.marginXS).sub(t.lineWidth).equal()},"&-title":{color:n,fontSize:t.fontSizeSM,lineHeight:t.lineHeightSM,fontWeight:"normal",marginBottom:t.calc(t.marginXXS).div(2).equal()},"&-description":{display:"none"},"&-tail":{marginInlineStart:0,top:t.calc(i).div(2).add(r).equal(),transform:"translateY(-50%)","&:after":{width:"100%",height:t.lineWidth,borderRadius:0,marginInlineStart:0,background:o}},[`&:first-child ${e}-item-tail`]:{width:"50%",marginInlineStart:"50%"},[`&:last-child ${e}-item-tail`]:{display:"block",width:"50%"},"&-wait":Object.assign({[`${e}-item-icon ${e}-icon ${e}-icon-dot`]:{backgroundColor:t.colorBorderBg,border:`${c(t.lineWidth)} ${t.lineType} ${o}`}},a),"&-finish":Object.assign({[`${e}-item-tail::after`]:{backgroundColor:o},[`${e}-item-icon ${e}-icon ${e}-icon-dot`]:{backgroundColor:o,border:`${c(t.lineWidth)} ${t.lineType} ${o}`}},a),"&-error":a,"&-active, &-process":Object.assign({[`${e}-item-icon`]:{width:i,height:i,marginInlineStart:`calc(50% - ${c(t.calc(i).div(2).equal())})`,top:0}},a),[`&:not(${e}-item-active) > ${e}-item-container[role='button']:hover`]:{[`${e}-item-title`]:{color:n}}}}}},X=t=>{const{componentCls:e,iconSize:i,lineHeight:n,iconSizeSM:o}=t;return{[`&${e}-label-vertical`]:{[`${e}-item`]:{overflow:"visible","&-tail":{marginInlineStart:t.calc(i).div(2).add(t.controlHeightLG).equal(),padding:`0 ${c(t.paddingLG)}`},"&-content":{display:"block",width:t.calc(i).div(2).add(t.controlHeightLG).mul(2).equal(),marginTop:t.marginSM,textAlign:"center"},"&-icon":{display:"inline-block",marginInlineStart:t.controlHeightLG},"&-title":{paddingInlineEnd:0,paddingInlineStart:0,"&::after":{display:"none"}},"&-subtitle":{display:"block",marginBottom:t.marginXXS,marginInlineStart:0,lineHeight:n}},[`&${e}-small:not(${e}-dot)`]:{[`${e}-item`]:{"&-icon":{marginInlineStart:t.calc(i).sub(o).div(2).add(t.controlHeightLG).equal()}}}}}},L=t=>{const{componentCls:e,navContentMaxWidth:i,navArrowColor:n,stepsNavActiveColor:o,motionDurationSlow:r}=t;return{[`&${e}-navigation`]:{paddingTop:t.paddingSM,[`&${e}-small`]:{[`${e}-item`]:{"&-container":{marginInlineStart:t.calc(t.marginSM).mul(-1).equal()}}},[`${e}-item`]:{overflow:"visible",textAlign:"center","&-container":{display:"inline-block",height:"100%",marginInlineStart:t.calc(t.margin).mul(-1).equal(),paddingBottom:t.paddingSM,textAlign:"start",transition:`opacity ${r}`,[`${e}-item-content`]:{maxWidth:i},[`${e}-item-title`]:Object.assign(Object.assign({maxWidth:"100%",paddingInlineEnd:0},s),{"&::after":{display:"none"}})},[`&:not(${e}-item-active)`]:{[`${e}-item-container[role='button']`]:{cursor:"pointer","&:hover":{opacity:.85}}},"&:last-child":{flex:1,"&::after":{display:"none"}},"&::after":{position:"absolute",top:`calc(50% - ${c(t.calc(t.paddingSM).div(2).equal())})`,insetInlineStart:"100%",display:"inline-block",width:t.fontSizeIcon,height:t.fontSizeIcon,borderTop:`${c(t.lineWidth)} ${t.lineType} ${n}`,borderBottom:"none",borderInlineStart:"none",borderInlineEnd:`${c(t.lineWidth)} ${t.lineType} ${n}`,transform:"translateY(-50%) translateX(-50%) rotate(45deg)",content:'""'},"&::before":{position:"absolute",bottom:0,insetInlineStart:"50%",display:"inline-block",width:0,height:t.lineWidthBold,backgroundColor:o,transition:`width ${r}, inset-inline-start ${r}`,transitionTimingFunction:"ease-out",content:'""'}},[`${e}-item${e}-item-active::before`]:{insetInlineStart:0,width:"100%"}},[`&${e}-navigation${e}-vertical`]:{[`> ${e}-item`]:{marginInlineEnd:0,"&::before":{display:"none"},[`&${e}-item-active::before`]:{top:0,insetInlineEnd:0,insetInlineStart:"unset",display:"block",width:t.calc(t.lineWidth).mul(3).equal(),height:`calc(100% - ${c(t.marginLG)})`},"&::after":{position:"relative",insetInlineStart:"50%",display:"block",width:t.calc(t.controlHeight).mul(.25).equal(),height:t.calc(t.controlHeight).mul(.25).equal(),marginBottom:t.marginXS,textAlign:"center",transform:"translateY(-50%) translateX(-50%) rotate(135deg)"},"&:last-child":{"&::after":{display:"none"}},[`> ${e}-item-container > ${e}-item-tail`]:{visibility:"hidden"}}},[`&${e}-navigation${e}-horizontal`]:{[`> ${e}-item > ${e}-item-container > ${e}-item-tail`]:{visibility:"hidden"}}}},F=t=>{const{antCls:e,componentCls:i,iconSize:n,iconSizeSM:o,processIconColor:r,marginXXS:a,lineWidthBold:l,lineWidth:s,paddingXXS:d}=t,m=t.calc(n).add(t.calc(l).mul(4).equal()).equal(),u=t.calc(o).add(t.calc(t.lineWidth).mul(4).equal()).equal();return{[`&${i}-with-progress`]:{[`${i}-item`]:{paddingTop:d,[`&-process ${i}-item-container ${i}-item-icon ${i}-icon`]:{color:r}},[`&${i}-vertical > ${i}-item `]:{paddingInlineStart:d,[`> ${i}-item-container > ${i}-item-tail`]:{top:a,insetInlineStart:t.calc(n).div(2).sub(s).add(d).equal()}},[`&, &${i}-small`]:{[`&${i}-horizontal ${i}-item:first-child`]:{paddingBottom:d,paddingInlineStart:d}},[`&${i}-small${i}-vertical > ${i}-item > ${i}-item-container > ${i}-item-tail`]:{insetInlineStart:t.calc(o).div(2).sub(s).add(d).equal()},[`&${i}-label-vertical ${i}-item ${i}-item-tail`]:{top:t.calc(n).div(2).add(d).equal()},[`${i}-item-icon`]:{position:"relative",[`${e}-progress`]:{position:"absolute",insetInlineStart:"50%",top:"50%",transform:"translate(-50%, -50%)","&-inner":{width:`${c(m)} !important`,height:`${c(m)} !important`}}},[`&${i}-small`]:{[`&${i}-label-vertical ${i}-item ${i}-item-tail`]:{top:t.calc(o).div(2).add(d).equal()},[`${i}-item-icon ${e}-progress-inner`]:{width:`${c(u)} !important`,height:`${c(u)} !important`}}}}},V=t=>{const{componentCls:e,descriptionMaxWidth:i,lineHeight:n,dotCurrentSize:o,dotSize:r,motionDurationSlow:a}=t;return{[`&${e}-dot, &${e}-dot${e}-small`]:{[`${e}-item`]:{"&-title":{lineHeight:n},"&-tail":{top:t.calc(t.dotSize).sub(t.calc(t.lineWidth).mul(3).equal()).div(2).equal(),width:"100%",marginTop:0,marginBottom:0,marginInline:`${c(t.calc(i).div(2).equal())} 0`,padding:0,"&::after":{width:`calc(100% - ${c(t.calc(t.marginSM).mul(2).equal())})`,height:t.calc(t.lineWidth).mul(3).equal(),marginInlineStart:t.marginSM}},"&-icon":{width:r,height:r,marginInlineStart:t.calc(t.descriptionMaxWidth).sub(r).div(2).equal(),paddingInlineEnd:0,lineHeight:c(r),background:"transparent",border:0,[`${e}-icon-dot`]:{position:"relative",float:"left",width:"100%",height:"100%",borderRadius:100,transition:`all ${a}`,"&::after":{position:"absolute",top:t.calc(t.marginSM).mul(-1).equal(),insetInlineStart:t.calc(r).sub(t.calc(t.controlHeightLG).mul(1.5).equal()).div(2).equal(),width:t.calc(t.controlHeightLG).mul(1.5).equal(),height:t.controlHeight,background:"transparent",content:'""'}}},"&-content":{width:i},[`&-process ${e}-item-icon`]:{position:"relative",top:t.calc(r).sub(o).div(2).equal(),width:o,height:o,lineHeight:c(o),background:"none",marginInlineStart:t.calc(t.descriptionMaxWidth).sub(o).div(2).equal()},[`&-process ${e}-icon`]:{[`&:first-child ${e}-icon-dot`]:{insetInlineStart:0}}}},[`&${e}-vertical${e}-dot`]:{[`${e}-item-icon`]:{marginTop:t.calc(t.controlHeight).sub(r).div(2).equal(),marginInlineStart:0,background:"none"},[`${e}-item-process ${e}-item-icon`]:{marginTop:t.calc(t.controlHeight).sub(o).div(2).equal(),top:0,insetInlineStart:t.calc(r).sub(o).div(2).equal(),marginInlineStart:0},[`${e}-item > ${e}-item-container > ${e}-item-tail`]:{top:t.calc(t.controlHeight).sub(r).div(2).equal(),insetInlineStart:0,margin:0,padding:`${c(t.calc(r).add(t.paddingXS).equal())} 0 ${c(t.paddingXS)}`,"&::after":{marginInlineStart:t.calc(r).sub(t.lineWidth).div(2).equal()}},[`&${e}-small`]:{[`${e}-item-icon`]:{marginTop:t.calc(t.controlHeightSM).sub(r).div(2).equal()},[`${e}-item-process ${e}-item-icon`]:{marginTop:t.calc(t.controlHeightSM).sub(o).div(2).equal()},[`${e}-item > ${e}-item-container > ${e}-item-tail`]:{top:t.calc(t.controlHeightSM).sub(r).div(2).equal()}},[`${e}-item:first-child ${e}-icon-dot`]:{insetInlineStart:0},[`${e}-item-content`]:{width:"inherit"}}}},G=t=>{const{componentCls:e}=t;return{[`&${e}-rtl`]:{direction:"rtl",[`${e}-item`]:{"&-subtitle":{float:"left"}},[`&${e}-navigation`]:{[`${e}-item::after`]:{transform:"rotate(-45deg)"}},[`&${e}-vertical`]:{[`> ${e}-item`]:{"&::after":{transform:"rotate(225deg)"},[`${e}-item-icon`]:{float:"right"}}},[`&${e}-dot`]:{[`${e}-item-icon ${e}-icon-dot, &${e}-small ${e}-item-icon ${e}-icon-dot`]:{float:"right"}}}}},_=t=>{const{componentCls:e,iconSizeSM:i,fontSizeSM:n,fontSize:o,colorTextDescription:r}=t;return{[`&${e}-small`]:{[`&${e}-horizontal:not(${e}-label-vertical) ${e}-item`]:{paddingInlineStart:t.paddingSM,"&:first-child":{paddingInlineStart:0}},[`${e}-item-icon`]:{width:i,height:i,marginTop:0,marginBottom:0,marginInline:`0 ${c(t.marginXS)}`,fontSize:n,lineHeight:c(i),textAlign:"center",borderRadius:i},[`${e}-item-title`]:{paddingInlineEnd:t.paddingSM,fontSize:o,lineHeight:c(i),"&::after":{top:t.calc(i).div(2).equal()}},[`${e}-item-description`]:{color:r,fontSize:o},[`${e}-item-tail`]:{top:t.calc(i).div(2).sub(t.paddingXXS).equal()},[`${e}-item-custom ${e}-item-icon`]:{width:"inherit",height:"inherit",lineHeight:"inherit",background:"none",border:0,borderRadius:0,[`> ${e}-icon`]:{fontSize:i,lineHeight:c(i),transform:"none"}}}}},U=t=>{const{componentCls:e,iconSizeSM:i,iconSize:n}=t;return{[`&${e}-vertical`]:{display:"flex",flexDirection:"column",[`> ${e}-item`]:{display:"block",flex:"1 0 auto",paddingInlineStart:0,overflow:"visible",[`${e}-item-icon`]:{float:"left",marginInlineEnd:t.margin},[`${e}-item-content`]:{display:"block",minHeight:t.calc(t.controlHeight).mul(1.5).equal(),overflow:"hidden"},[`${e}-item-title`]:{lineHeight:c(n)},[`${e}-item-description`]:{paddingBottom:t.paddingSM}},[`> ${e}-item > ${e}-item-container > ${e}-item-tail`]:{position:"absolute",top:0,insetInlineStart:t.calc(n).div(2).sub(t.lineWidth).equal(),width:t.lineWidth,height:"100%",padding:`${c(t.calc(t.marginXXS).mul(1.5).add(n).equal())} 0 ${c(t.calc(t.marginXXS).mul(1.5).equal())}`,"&::after":{width:t.lineWidth,height:"100%"}},[`> ${e}-item:not(:last-child) > ${e}-item-container > ${e}-item-tail`]:{display:"block"},[` > ${e}-item > ${e}-item-container > ${e}-item-content > ${e}-item-title`]:{"&::after":{display:"none"}},[`&${e}-small ${e}-item-container`]:{[`${e}-item-tail`]:{position:"absolute",top:0,insetInlineStart:t.calc(i).div(2).sub(t.lineWidth).equal(),padding:`${c(t.calc(t.marginXXS).mul(1.5).add(i).equal())} 0 ${c(t.calc(t.marginXXS).mul(1.5).equal())}`},[`${e}-item-title`]:{lineHeight:c(i)}}}}},Y=(t,e)=>{const i=`${e.componentCls}-item`,n=`${t}IconColor`,o=`${t}TitleColor`,r=`${t}DescriptionColor`,a=`${t}TailColor`,l=`${t}IconBgColor`,c=`${t}IconBorderColor`,s=`${t}DotColor`;return{[`${i}-${t} ${i}-icon`]:{backgroundColor:e[l],borderColor:e[c],[`> ${e.componentCls}-icon`]:{color:e[n],[`${e.componentCls}-icon-dot`]:{background:e[s]}}},[`${i}-${t}${i}-custom ${i}-icon`]:{[`> ${e.componentCls}-icon`]:{color:e[s]}},[`${i}-${t} > ${i}-container > ${i}-content > ${i}-title`]:{color:e[o],"&::after":{backgroundColor:e[a]}},[`${i}-${t} > ${i}-container > ${i}-content > ${i}-description`]:{color:e[r]},[`${i}-${t} > ${i}-container > ${i}-tail::after`]:{backgroundColor:e[a]}}},Q=t=>{const{componentCls:e,motionDurationSlow:i}=t,n=`${e}-item`,o=`${n}-icon`;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[n]:{position:"relative",display:"inline-block",flex:1,overflow:"hidden",verticalAlign:"top","&:last-child":{flex:"none",[`> ${n}-container > ${n}-tail, > ${n}-container >  ${n}-content > ${n}-title::after`]:{display:"none"}}},[`${n}-container`]:{outline:"none",[`&:focus-visible ${o}`]:p(t)},[`${o}, ${n}-content`]:{display:"inline-block",verticalAlign:"top"},[o]:{width:t.iconSize,height:t.iconSize,marginTop:0,marginBottom:0,marginInlineStart:0,marginInlineEnd:t.marginXS,fontSize:t.iconFontSize,fontFamily:t.fontFamily,lineHeight:c(t.iconSize),textAlign:"center",borderRadius:t.iconSize,border:`${c(t.lineWidth)} ${t.lineType} transparent`,transition:`background-color ${i}, border-color ${i}`,[`${e}-icon`]:{position:"relative",top:t.iconTop,color:t.colorPrimary,lineHeight:1}},[`${n}-tail`]:{position:"absolute",top:t.calc(t.iconSize).div(2).equal(),insetInlineStart:0,width:"100%","&::after":{display:"inline-block",width:"100%",height:t.lineWidth,background:t.colorSplit,borderRadius:t.lineWidth,transition:`background ${i}`,content:'""'}},[`${n}-title`]:{position:"relative",display:"inline-block",paddingInlineEnd:t.padding,color:t.colorText,fontSize:t.fontSizeLG,lineHeight:c(t.titleLineHeight),"&::after":{position:"absolute",top:t.calc(t.titleLineHeight).div(2).equal(),insetInlineStart:"100%",display:"block",width:9999,height:t.lineWidth,background:t.processTailColor,content:'""'}},[`${n}-subtitle`]:{display:"inline",marginInlineStart:t.marginXS,color:t.colorTextDescription,fontWeight:"normal",fontSize:t.fontSize},[`${n}-description`]:{color:t.colorTextDescription,fontSize:t.fontSize}},Y("wait",t)),Y("process",t)),{[`${n}-process > ${n}-container > ${n}-title`]:{fontWeight:t.fontWeightStrong}}),Y("finish",t)),Y("error",t)),{[`${n}${e}-next-error > ${e}-item-title::after`]:{background:t.colorError},[`${n}-disabled`]:{cursor:"not-allowed"}})},K=t=>{const{componentCls:e,motionDurationSlow:i}=t;return{[`& ${e}-item`]:{[`&:not(${e}-item-active)`]:{[`& > ${e}-item-container[role='button']`]:{cursor:"pointer",[`${e}-item`]:{[`&-title, &-subtitle, &-description, &-icon ${e}-icon`]:{transition:`color ${i}`}},"&:hover":{[`${e}-item`]:{"&-title, &-subtitle, &-description":{color:t.colorPrimary}}}},[`&:not(${e}-item-process)`]:{[`& > ${e}-item-container[role='button']:hover`]:{[`${e}-item`]:{"&-icon":{borderColor:t.colorPrimary,[`${e}-icon`]:{color:t.colorPrimary}}}}}}},[`&${e}-horizontal:not(${e}-label-vertical)`]:{[`${e}-item`]:{paddingInlineStart:t.padding,whiteSpace:"nowrap","&:first-child":{paddingInlineStart:0},[`&:last-child ${e}-item-title`]:{paddingInlineEnd:0},"&-tail":{display:"none"},"&-description":{maxWidth:t.descriptionMaxWidth,whiteSpace:"normal"}}}}},Z=d("Steps",t=>{const{colorTextDisabled:e,controlHeightLG:i,colorTextLightSolid:n,colorText:o,colorPrimary:r,colorTextDescription:a,colorTextQuaternary:l,colorError:c,colorBorderSecondary:s,colorSplit:d}=t;return(t=>{const{componentCls:e}=t;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},u(t)),{display:"flex",width:"100%",fontSize:0,textAlign:"initial"}),Q(t)),K(t)),M(t)),_(t)),U(t)),j(t)),X(t)),V(t)),L(t)),G(t)),F(t)),R(t))}})(m(t,{processIconColor:n,processTitleColor:o,processDescriptionColor:o,processIconBgColor:r,processIconBorderColor:r,processDotColor:r,processTailColor:d,waitTitleColor:a,waitDescriptionColor:a,waitTailColor:d,waitDotColor:e,finishIconColor:r,finishTitleColor:o,finishDescriptionColor:a,finishTailColor:r,finishDotColor:r,errorIconColor:n,errorTitleColor:c,errorDescriptionColor:c,errorTailColor:d,errorIconBgColor:c,errorIconBorderColor:c,errorDotColor:c,stepsNavActiveColor:r,stepsProgressSize:i,inlineDotSize:6,inlineTitleColor:l,inlineTailColor:s}))},t=>({titleLineHeight:t.controlHeight,customIconSize:t.controlHeight,customIconTop:0,customIconFontSize:t.controlHeightSM,iconSize:t.controlHeight,iconTop:-.5,iconFontSize:t.fontSize,iconSizeSM:t.fontSizeHeading3,dotSize:t.controlHeight/4,dotCurrentSize:t.controlHeightLG/4,navArrowColor:t.colorTextDisabled,navContentMaxWidth:"unset",descriptionMaxWidth:140,waitIconColor:t.wireframe?t.colorTextDisabled:t.colorTextLabel,waitIconBgColor:t.wireframe?t.colorBgContainer:t.colorFillContent,waitIconBorderColor:t.wireframe?t.colorTextDisabled:"transparent",finishIconBgColor:t.wireframe?t.colorBgContainer:t.controlItemBgActive,finishIconBorderColor:t.wireframe?t.colorPrimary:t.controlItemBgActive}));const J=t=>{const{percent:i,size:n,className:r,rootClassName:a,direction:l,items:c,responsive:s=!0,current:d=0,children:m,style:u}=t,p=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(i[n[o]]=t[n[o]])}return i}(t,["percent","size","className","rootClassName","direction","items","responsive","current","children","style"]),{xs:y}=q(s),{getPrefixCls:w,direction:v,className:I,style:C}=h("steps"),E=o.useMemo(()=>s&&y?"vertical":l,[s,y,l]),T=$(n),x=w("steps",t.prefixCls),[k,z,B]=Z(x),N="inline"===t.type,D=w("",t.iconPrefix),A=function(t,e){return t||function(t){return t.filter(t=>t)}(g(e).map(t=>{if(o.isValidElement(t)){const{props:e}=t;return Object.assign({},e)}return null}))}(c,m),H=N?void 0:i,O=Object.assign(Object.assign({},C),u),M=e(I,{[`${x}-rtl`]:"rtl"===v,[`${x}-with-progress`]:void 0!==H},r,a,z,B),j={finish:o.createElement(b,{className:`${x}-finish-icon`}),error:o.createElement(f,{className:`${x}-error-icon`})};return k(o.createElement(W,Object.assign({icons:j},p,{style:O,current:d,size:T,items:A,itemRender:N?(t,e)=>t.description?o.createElement(S,{title:t.description},e):e:void 0,stepIcon:({node:t,status:e})=>{if("process"===e&&void 0!==H){const e="small"===T?32:40;return o.createElement("div",{className:`${x}-progress-icon`},o.createElement(P,{type:"circle",percent:H,size:e,strokeWidth:4,format:()=>null}),t)}return t},direction:E,prefixCls:x,iconPrefix:D,className:M})))};function tt(t){return{mutationFn:e=>async function(t,e){const{account:i,connector:n,...o}=e;let r;return r="object"==typeof i&&"local"===i.type?t.getClient():await y(t,{account:i,connector:n}),w(r,v,"signTypedData")({...o,...i?{account:i}:{}})}(t,e),mutationKey:["signTypedData"]}}J.Step=W.Step;var et=(t=>(t[t.VIEW=0]="VIEW",t[t.TRANSFER=1]="TRANSFER",t[t.APPROVE=2]="APPROVE",t))(et||{});const it=(t,e)=>{const{signTypedDataAsync:i}=function(t={}){const{mutation:e}=t,i=tt(I(t)),{mutate:n,mutateAsync:o,...r}=C({...e,...i});return{...r,signTypedData:n,signTypedDataAsync:o}}(),[n,r]=o.useState(!1),[a,l]=o.useState(null),[c,s]=o.useState(null),d=(t,e)=>{if(!B(t))throw new Error(`The ${e} address format is invalid: ${t}`)};return{signPermit:o.useCallback(async n=>{const{spender:o,amount:a,label:c,contractAddress:m,domainName:u,domainVersion:p,customDeadline:g}=n;l(null),r(!0);try{if(!e||!t)throw new Error("Please connect your wallet first");if(d(m,"token"),d(o,"spender"),!u)throw new Error("The domain name is not valid");const n="bigint"==typeof a?a:BigInt(a);if(Number(n)<0)throw new Error("The amount cannot be negative");if(!Object.values(et).includes(c))throw new Error(`The permit type is invalid: ${c}`);if(c===et.VIEW&&0!==Number(n))throw new Error("The amount of VIEW type must be 0");const r=g||Math.floor(Date.now()/1e3)+3600,l=((t,e,i,n)=>({name:i,version:n||"1",chainId:t,verifyingContract:e}))(t,m,u,p),h={EIP712Permit:[{name:"label",type:"uint8"},{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"amount",type:"uint256"},{name:"deadline",type:"uint256"}]},$={label:c,owner:e,spender:o,amount:n,deadline:BigInt(r)};0;0;const f=(t=>{const e=t.slice(2);return{r:"0x"+e.slice(0,64),s:"0x"+e.slice(64,128),v:parseInt(e.slice(128,130),16)}})(await i({domain:l,types:h,primaryType:"EIP712Permit",message:$})),b={label:c,owner:e,spender:o,amount:n.toString(),deadline:r,signature:f};return s(b),b}catch(h){const t=h instanceof Error?h:new Error("Failed to generate EIP712 signature");return l(t),null}finally{r(!1)}},[t,e,i]),isLoading:n,error:a,permit:c,reset:o.useCallback(()=>{l(null),s(null),r(!1)},[])}},nt=()=>{const{address:t,chainId:e}=E(),{signPermit:i,isLoading:n,error:r}=it(e??0,t??""),a=N(),l=T(t=>t.getEip712Permit),c=T(t=>t.setEip712Permit),[s,d]=o.useState(!1),[m,u]=o.useState(null),p=o.useCallback(t=>{if(!t.deadline)return!0;return Math.floor(Date.now()/1e3)>=t.deadline},[]),g=t=>"signature"in t&&"deadline"in t,h=o.useCallback((t,e)=>{if(g(t)&&!p(t))return null;let i;i=g(t)?(null==e?void 0:e.contractAddress)||"":t.contractAddress;const n=a.find(t=>t.address.toLowerCase()===i.toLowerCase());if(!n)throw new Error("Token metadata not found");const o=n.domainName;if(!o)throw new Error("Token domain name not found");let r,l,c,s,d;if(g(t))r=t.label,l=t.spender,c="bigint"==typeof t.amount||"string"==typeof t.amount?t.amount:BigInt(t.amount),s=null==e?void 0:e.domainVersion,d=null==e?void 0:e.customDeadline;else{const i=t;r=i.label,l=i.spender,c="number"==typeof i.amount?BigInt(i.amount):i.amount,s=i.domainVersion||(null==e?void 0:e.domainVersion),d=i.customDeadline||(null==e?void 0:e.customDeadline)}if(!l)throw new Error("Missing spender parameter");if(!i)throw new Error("Missing contractAddress parameter");return{label:r,spender:l,amount:c,contractAddress:i,domainName:o,domainVersion:s,customDeadline:d}},[p]),$=o.useCallback(async t=>{try{const e=h(t);if(!e)throw new Error("Failed to parse permit params");const n=await i(e);if(!n)throw new Error("Failed to generate signature");return c(t.label,t.spender,t.contractAddress,n),n}catch(e){const t=e instanceof Error?e:new Error("Failed to generate EIP712 signature");throw u(t),t}},[t,e,i,c,h]),f=o.useCallback((t,e,i)=>{const n=l(t,e,i);return n&&!p(n)&&n.label===t&&n.spender===e?n:null},[l,p]);return{getValidPermit:o.useCallback(async(t,e)=>{u(null),d(!0);try{if(g(t)&&!p(t))return t;const i=h(t,e);if(!i){if(g(t))return t;throw new Error("Unexpected error: failed to parse permit params")}const{label:n,spender:o,contractAddress:r}=i,a=f(n,o,r);if(a)return a;return await $(i)}catch(i){const t=i instanceof Error?i:new Error("Failed to get valid permit");throw u(t),t}finally{d(!1)}},[t,e,p,h,l,$]),isExpired:p,signAndSavePermit:$,getCurrentEip712Permit:f,isLoading:s||n,error:m||r}};function ot(){const t=x(),{publicClient:e,chainId:i}=E(),n=o.useRef(e);n.current=e;return{readContractERC20:o.useCallback(async(o,r,a,l,c=!1)=>{let s=n.current||e;if(!s){const t=3e3,i=Date.now();for(;!s&&Date.now()-i<t;)await new Promise(t=>setTimeout(t,50)),s=n.current||e}if(!s)throw new Error("Public client not available. Please ensure WagmiProvider is properly configured.");let d="erc20"===o?k.OFFICIAL_TOKEN:k.ERC20_SECRET;const m=z(d,i);let u=[],p={};l&&l.length>0?(u=[o,r,a,l,i],p={address:r,abi:m.abi,functionName:a,args:l}):(u=[o,r,a,i],p={address:r,abi:m.abi,functionName:a});if(c){const e=t.getQueryState(u);if(null==e?void 0:e.dataUpdatedAt){if(Date.now()-e.dataUpdatedAt<15e3)return e.data}t.removeQueries({queryKey:u})}else{const e=t.getQueryData(u);if(e)return e}const g=await s.readContract(p);return t.setQueryData(u,g),g},[i,t])}}function rt(){const{readContractERC20:t}=ot();return{allowance:async(e,i,n,o=!1)=>{try{const r=await t("erc20",e,"allowance",[i,n],o);return"bigint"==typeof r?r:"number"==typeof r||"string"==typeof r?BigInt(r):BigInt(0)}catch(r){return BigInt(0)}},balanceOf:async(e,i,n=!1)=>{try{const o=await t("erc20",e,"balanceOf",[i],n);return"bigint"==typeof o?o:"number"==typeof o||"string"==typeof o?BigInt(o):BigInt(0)}catch(o){return BigInt(0)}},decimals:async e=>{try{const i=await t("erc20",e,"decimals",[]);return i?Number(i):0}catch(i){return 0}},name:async e=>{try{const i=await t("erc20",e,"name",[]);return i?String(i):""}catch(i){return""}},symbol:async e=>{try{const i=await t("erc20",e,"symbol",[]);return i?String(i):""}catch(i){return""}},totalSupply:async(e,i=!1)=>{try{const n=await t("erc20",e,"totalSupply",[],i);return"bigint"==typeof n?n:"number"==typeof n||"string"==typeof n?BigInt(n):BigInt(0)}catch(n){return BigInt(0)}},mintDate:async(e,i,n=!1)=>{try{const o=await t("erc20",e,"mintDate",[i],n);return o?Number(o):0}catch(o){return 0}}}}function at(){const{readContractERC20:t}=ot();return{underlyingToken:async e=>{try{const i=await t("secret",e,"underlyingToken");return i?String(i):""}catch(i){return""}},balanceOfWithPermit:async(e,i,n=!1)=>{try{const o=await t("secret",e,"balanceOfWithPermit",[i],n);return"bigint"==typeof o?o:"number"==typeof o||"string"==typeof o?BigInt(o):BigInt(0)}catch(o){return BigInt(0)}},allowanceWithPermit:async(e,i,n=!1)=>{try{const o=await t("secret",e,"allowanceWithPermit",[i],n);return"bigint"==typeof o?o:"number"==typeof o||"string"==typeof o?BigInt(o):BigInt(0)}catch(o){return BigInt(0)}},DOMAIN_SEPARATOR:async e=>{try{const i=await t("secret",e,"DOMAIN_SEPARATOR");return i?String(i):""}catch(i){return""}},EIP_PERMIT_TYPEHASH:async e=>{try{const i=await t("secret",e,"EIP_PERMIT_TYPEHASH");return i?String(i):""}catch(i){return""}},isSignatureUsed:async(e,i,n=!1)=>{try{const o=await t("secret",e,"isSignatureUsed",[i],n);return!!o&&Boolean(o)}catch(o){return!1}}}}const lt=()=>{const[t,e]=o.useState(!1),[i,n]=o.useState(BigInt(0)),[r,a]=o.useState(!1),{allowance:l}=rt(),{allowanceWithPermit:c}=at(),{getValidPermit:s}=nt(),d=N();return{readAllowance:async(t,i,o,r,m=!1)=>{e(!0);try{const u=d.find(e=>e.address.toLowerCase()===t.toLowerCase());if(!u)throw new Error("Token metadata not found");let p=BigInt(0);if("ERC20"===u.types)p=await l(t,i,o,m);else{if("Secret"!==u.types)return e(!1),{isEnough:!1,allowanceAmount:BigInt(0)};{const e=await s({spender:o,amount:BigInt(0),label:et.VIEW,contractAddress:t});p=await c(t,e,m)}}const g=p>=(t=>{if("bigint"==typeof t)return t;if("number"==typeof t){if(!Number.isFinite(t)||!Number.isInteger(t))throw new Error("targetAmount must be an integer number");if(!Number.isSafeInteger(t))throw new Error("targetAmount number exceeds safe integer range; pass bigint or integer string");return BigInt(t)}if("string"==typeof t){if(!/^\d+$/.test(t))throw new Error("targetAmount string must be an integer representation");return BigInt(t)}throw new Error("Unsupported targetAmount type")})(r);return a(g),n(p),e(!1),{isEnough:g,allowanceAmount:p}}catch(u){return e(!1),{isEnough:!1,allowanceAmount:BigInt(0)}}},isLoading:t,allowanceAmount:i,isEnough:r}};export{et as P,J as S,rt as a,at as b,nt as c,lt as u};
