import{r as e,aP as t,j as s,K as n,aU as r}from"./vendor-BDtTUao2.js";import{f as a,i as l}from"./status-D2J4ZcA5.js";import{c as i}from"./index-DzM9oNjl.js";const o=({price:l,symbol:o="ETH",decimals:c=18,precision:u=3,showSymbol:m=!0,className:g="",size:d="sm",unitPosition:x="right",responsive:f=!0})=>{const h=e.useMemo(()=>{try{const e=a(l,c,u);if(/[KM]$/.test(e)){const t=e.match(/^([\d.]+)([KM])$/);if(t){const e=t[1],s=t[2],n=parseFloat(e);if(Number.isInteger(n))return`${n}${s}`;const r=e.split(".");if(2===r.length&&/^0+$/.test(r[1]))return`${r[0]}${s}`}return e}const t=parseFloat(e);if(Number.isInteger(t))return t.toString();const s=e.split(".");if(2===s.length){const e=s[1];if(/^0+$/.test(e))return s[0]}return e}catch(e){return"0"}},[l,c,u]),p=e.useMemo(()=>({sm:"text-xs md:text-sm lg:text-base",md:"text-sm md:text-md lg:text-lg",lg:"text-lg md:text-xl lg:text-2xl",xl:"text-xl md:text-2xl lg:text-3xl"}),[d]),b=e.useMemo(()=>({sm:"text-xs md:text-sm",md:"text-sm md:text-base ",lg:"text-md md:text-lg ",xl:"text-lg md:text-xl "}),[d]),y=e.useMemo(()=>{try{const e="bigint"==typeof l?l:"string"==typeof l?l.includes("n")?BigInt(l.replace("n","")):BigInt(l):BigInt(Math.floor(Number(l)||0));return t(e,c)}catch{return h}},[l,c,h]),j=s.jsx("p",{className:i("text-white",p[d],g),children:h}),v=m&&o?s.jsx("p",{className:i(b[d],"text-muted-foreground"),children:o}):null,N=[];"left"===x&&v&&N.push(v);const $=y!==h?s.jsx(r,{title:y,children:j}):j;return N.push($),"right"===x&&v&&N.push(v),s.jsx("div",{className:i("inline-flex items-end",f?"gap-2":"gap-1","font-mono"),children:N.map((e,t)=>s.jsx(n.Fragment,{children:e},`price-label-${t}`))})},c=({images:t,aspectRatio:n=1,autoPlayInterval:r=4e3,autoPlay:a=!0,className:o,altPrefix:c="image",transitionDuration:u=2,enableMask:m=!0,enableIpfsUrl:g=!0,onImageLoad:d})=>{const[x,f]=e.useState(0),[h,p]=e.useState("lt"),b=e.useRef(null),y=()=>{const e=["lt","rt","lb","rb"];return e[Math.floor(Math.random()*e.length)]},j=e.useCallback(()=>{t.length<=1||(p(y()),f(e=>(e+1)%t.length))},[t.length]);e.useCallback(e=>{e<0||e>=t.length||e===x||(p(y()),f(e))},[t.length,x]);const v=e.useRef(j);if(e.useEffect(()=>{v.current=j},[j]),e.useEffect(()=>{if(a&&!(t.length<=1))return b.current=setInterval(()=>{v.current()},r),()=>{b.current&&clearInterval(b.current)}},[a,r,t.length]),!t||0===t.length)return s.jsx("div",{className:i("w-full bg-black flex items-center justify-center rounded-t-2xl",o),style:{aspectRatio:n},children:s.jsx("span",{className:"text-white/50",children:"No images available"})});const N=e=>{if(!m)return{};const t={lt:"linear-gradient(135deg, #000 60%, transparent 100%)",rb:"linear-gradient(315deg, #000 60%, transparent 100%)",rt:"linear-gradient(225deg, #000 60%, transparent 100%)",lb:"linear-gradient(45deg, #000 60%, transparent 100%)"};return{maskImage:t[e],WebkitMaskImage:t[e]}},[$,I]=e.useState(new Set),k=e.useRef(!1),w=e.useCallback(e=>{I(t=>{const s=new Set(t);return s.add(e),s})},[]);return e.useEffect(()=>{if($.size===t.length&&d&&!k.current){k.current=!0;const e=setTimeout(()=>{d()},0);return()=>clearTimeout(e)}},[$.size,t.length]),e.useEffect(()=>{I(new Set),k.current=!1},[t]),s.jsx("div",{className:i("w-full bg-black flex justify-center items-center overflow-hidden rounded-t-2xl relative",o),style:{aspectRatio:n},children:s.jsx("div",{className:"w-full h-full relative",children:t.map((e,n)=>{const r=n===x,a=r||n===(x-1+t.length)%t.length,o=g?l(e):e;return s.jsx("img",{src:o,alt:`${c}-${n+1}`,className:i("w-full h-full object-contain absolute left-0 top-0 pointer-events-none","transition-opacity ease-linear",r?"opacity-100 z-20":"opacity-0 z-10"),style:{transitionDuration:`${u}s`,...r&&m?N(h):{},transitionProperty:m?"opacity, mask-image, -webkit-mask-image":"opacity"},loading:a?"eager":"lazy",onLoad:()=>w(e),onError:t=>{w(e)}},`${o}-${n}`)})})})};export{c as I,o as P};
